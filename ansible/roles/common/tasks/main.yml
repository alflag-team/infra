---
- name: Set locale
  locale_gen:
    name: ja_JP.UTF-8
    state: present
  become: yes

- name: Set hostname
  hostname:
    name: "{{ inventory_hostname }}"
  become: yes

- name: Set timezone
  timezone:
    name: Asia/Tokyo
  become: yes

- name: User infra
  include_tasks:
    file: user-infra.yml
    apply:
      become: yes

- name: User minecraft
  include_tasks:
    file: user-minecraft.yml
    apply:
      become: yes
  when: "'minecraft' in group_names"

- name: apt update
  apt:
    update_cache: yes
  become: yes
